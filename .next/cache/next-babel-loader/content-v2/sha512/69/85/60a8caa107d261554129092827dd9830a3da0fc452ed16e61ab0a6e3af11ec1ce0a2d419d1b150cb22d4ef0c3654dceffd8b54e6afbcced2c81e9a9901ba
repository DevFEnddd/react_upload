{"ast":null,"code":"var _jsxFileName = \"F:\\\\PM\\\\oiron_v101\\\\oiron\\\\packages\\\\crypto-theme\\\\components\\\\Header\\\\TopNav\\\\MultiLevelClick.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState, useEffect, useRef, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { i18n } from \"../../../i18n\";\nimport Button from '@material-ui/core/Button';\nimport AnchorLink from 'react-anchor-link-smooth-scroll';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Icon from '@material-ui/core/Icon';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport useStyles from '../header-style';\nconst LinkBtn = /*#__PURE__*/React.forwardRef(function LinkBtn(props, ref) {\n  // eslint-disable-line\n  return __jsx(AnchorLink, _extends({\n    to: props.to\n  }, props, {\n    innerRef: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 10\n    }\n  })); // eslint-disable-line\n});\n\nfunction MultiLevelHover(props) {\n  const classes = useStyles();\n  const {\n    dataMenu\n  } = props;\n  const {\n    0: curURL,\n    1: setCurURL\n  } = useState('');\n  const {\n    0: curOrigin,\n    1: setCurOrigin\n  } = useState('');\n  const {\n    0: langPath,\n    1: setLangPath\n  } = useState(''); // Parent state\n\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  const {\n    0: menuName,\n    1: setName\n  } = useState('');\n  const {\n    0: anchorEl,\n    1: setAnchorEl\n  } = useState(null);\n  const anchorRef = useRef(null);\n  const prevOpen = useRef(open); // Child state\n\n  const {\n    0: menuChild,\n    1: setMenuChild\n  } = useState({});\n  const {\n    0: anchorChild,\n    1: setAnchorChild\n  } = useState({}); // Parent function\n\n  const handleToggle = (event, name) => {\n    setOpen(newOpen => !newOpen);\n    setName(name);\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = e => {\n    e.stopPropagation();\n    setName('');\n    setOpen(false);\n    setMenuChild({});\n    setAnchorChild({});\n  }; // Child function\n\n\n  const handleToggleChild = (event, parent, id) => {\n    event.stopPropagation();\n    let menuClose = {};\n    let anchorClose = {};\n\n    for (let i = 0; i < parent.child.length; i += 1) {\n      if (parent.child[i].id !== id) {\n        menuClose = _objectSpread(_objectSpread({}, menuClose), {}, {\n          [parent.child[i].id]: false\n        });\n        anchorClose = _objectSpread(_objectSpread({}, anchorClose), {}, {\n          [parent.child[i].id]: null\n        });\n      }\n    }\n\n    setMenuChild(_objectSpread(_objectSpread(_objectSpread({}, menuChild), menuClose), {}, {\n      [id]: true\n    }));\n    setAnchorChild(_objectSpread(_objectSpread(_objectSpread({}, anchorChild), anchorClose), {}, {\n      [id]: event.currentTarget\n    }));\n  };\n\n  useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n    setCurURL(window.location.href);\n    setCurOrigin(window.location.origin);\n    setLangPath('/' + i18n.options.localeSubpaths[i18n.language]);\n  }, [open]);\n\n  const childMenu = (menu, item, anchor) => __jsx(Popper, {\n    anchorEl: anchor[item.id] || null,\n    open: menu[item.id] || false,\n    placement: \"right-start\",\n    transition: true,\n    disablePortal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, ({\n    TransitionProps,\n    placement\n  }) => __jsx(Grow, _extends({}, TransitionProps, {\n    style: {\n      transformOrigin: placement === 'bottom' ? 'center bottom' : 'center top'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), __jsx(Paper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, __jsx(MenuList, {\n    id: \"menu-list-grow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, item.child.map((subitem, index) => {\n    if (subitem.child) {\n      return __jsx(MenuItem, {\n        key: index.toString(),\n        onClick: e => handleToggleChild(e, item, subitem.id),\n        className: classes.menuList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      }, __jsx(ListItemText, {\n        primary: subitem.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 23\n        }\n      }), childMenu(menuChild, subitem, anchorChild), __jsx(ChevronRightIcon, {\n        fontSize: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 23\n        }\n      }));\n    }\n\n    return __jsx(MenuItem, {\n      key: index.toString(),\n      disableGutters: true,\n      onClick: e => handleClose(e),\n      className: clsx(classes.menuList, curURL === curOrigin + langPath + subitem.link ? classes.current : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, __jsx(ListItem, {\n      disableGutters: true,\n      disableRipple: true,\n      className: classes.link,\n      button: true,\n      component: \"a\",\n      href: subitem.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, __jsx(ListItemText, {\n      primary: subitem.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 23\n      }\n    })));\n  })))));\n\n  return __jsx(\"ul\", {\n    className: classes.multiMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }, dataMenu.map((item, index) => __jsx(Fragment, {\n    key: index.toString(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, item.child ? // eslint-disable-next-line\n  __jsx(\"li\", {\n    onClick: e => handleToggle(e, item.name),\n    onKeyDown: e => handleToggle(e, item.name),\n    ref: anchorRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    endIcon: __jsx(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 34\n      }\n    }, \"expand_more\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, item.name), __jsx(Popper, {\n    open: menuName === item.name,\n    anchorEl: anchorEl || null,\n    className: classes.multiMenuRoot,\n    placement: \"bottom-start\",\n    role: undefined,\n    transition: true,\n    disablePortal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, ({\n    TransitionProps,\n    placement\n  }) => __jsx(Grow, _extends({}, TransitionProps, {\n    style: {\n      transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }), __jsx(Paper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }\n  }, __jsx(ClickAwayListener, {\n    onClickAway: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, __jsx(MenuList, {\n    autoFocusItem: open,\n    id: \"menu-list-grow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 27\n    }\n  }, item.child.map((subitem, indexChild) => {\n    if (subitem.child) {\n      return __jsx(MenuItem, {\n        key: indexChild.toString(),\n        onClick: e => handleToggleChild(e, item, subitem.id),\n        className: classes.menuList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 35\n        }\n      }, __jsx(ListItemText, {\n        primary: subitem.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 37\n        }\n      }), childMenu(menuChild, subitem, anchorChild), __jsx(ChevronRightIcon, {\n        fontSize: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 37\n        }\n      }));\n    }\n\n    return __jsx(MenuItem, {\n      key: indexChild.toString(),\n      onClick: e => handleClose(e),\n      className: clsx(classes.menuList, curURL === curOrigin + langPath + subitem.link ? classes.current : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 33\n      }\n    }, __jsx(ListItem, {\n      disableGutters: true,\n      disableRipple: true,\n      className: classes.link,\n      button: true,\n      component: \"a\",\n      href: subitem.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 35\n      }\n    }, __jsx(ListItemText, {\n      primary: subitem.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    })));\n  })))))))) : __jsx(\"li\", {\n    key: index.toString(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    href: item.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, item.name))))));\n}\n\nMultiLevelHover.propTypes = {\n  dataMenu: PropTypes.array.isRequired\n};\nexport default MultiLevelHover;","map":{"version":3,"sources":["F:/PM/oiron_v101/oiron/packages/crypto-theme/components/Header/TopNav/MultiLevelClick.js"],"names":["React","useState","useEffect","useRef","Fragment","PropTypes","clsx","i18n","Button","AnchorLink","ClickAwayListener","Grow","Icon","Paper","Popper","MenuItem","MenuList","ListItem","ListItemText","ChevronRightIcon","useStyles","LinkBtn","forwardRef","props","ref","to","MultiLevelHover","classes","dataMenu","curURL","setCurURL","curOrigin","setCurOrigin","langPath","setLangPath","open","setOpen","menuName","setName","anchorEl","setAnchorEl","anchorRef","prevOpen","menuChild","setMenuChild","anchorChild","setAnchorChild","handleToggle","event","name","newOpen","currentTarget","handleClose","e","stopPropagation","handleToggleChild","parent","id","menuClose","anchorClose","i","child","length","current","focus","window","location","href","origin","options","localeSubpaths","language","childMenu","menu","item","anchor","TransitionProps","placement","transformOrigin","map","subitem","index","toString","menuList","link","multiMenu","multiMenuRoot","undefined","indexChild","propTypes","array","isRequired"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  useEffect,\n  useRef,\n  Fragment\n} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { i18n } from '~/i18n';\nimport Button from '@material-ui/core/Button';\nimport AnchorLink from 'react-anchor-link-smooth-scroll';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Icon from '@material-ui/core/Icon';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport useStyles from '../header-style';\n\nconst LinkBtn = React.forwardRef(function LinkBtn(props, ref) { // eslint-disable-line\n  return <AnchorLink to={props.to} {...props} innerRef={ref} />; // eslint-disable-line\n});\n\nfunction MultiLevelHover(props) {\n  const classes = useStyles();\n  const { dataMenu } = props;\n\n  const [curURL, setCurURL] = useState('');\n  const [curOrigin, setCurOrigin] = useState('');\n  const [langPath, setLangPath] = useState('');\n\n  // Parent state\n  const [open, setOpen] = useState(false);\n  const [menuName, setName] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const anchorRef = useRef(null);\n  const prevOpen = useRef(open);\n\n  // Child state\n  const [menuChild, setMenuChild] = useState({});\n  const [anchorChild, setAnchorChild] = useState({});\n\n  // Parent function\n  const handleToggle = (event, name) => {\n    setOpen((newOpen) => !newOpen);\n    setName(name);\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (e) => {\n    e.stopPropagation();\n    setName('');\n    setOpen(false);\n    setMenuChild({});\n    setAnchorChild({});\n  };\n\n  // Child function\n  const handleToggleChild = (event, parent, id) => {\n    event.stopPropagation();\n    let menuClose = {};\n    let anchorClose = {};\n    for (let i = 0; i < parent.child.length; i += 1) {\n      if (parent.child[i].id !== id) {\n        menuClose = {\n          ...menuClose,\n          [parent.child[i].id]: false\n        };\n        anchorClose = {\n          ...anchorClose,\n          [parent.child[i].id]: null\n        };\n      }\n    }\n    setMenuChild({\n      ...menuChild,\n      ...menuClose,\n      [id]: true\n    });\n    setAnchorChild({\n      ...anchorChild,\n      ...anchorClose,\n      [id]: event.currentTarget\n    });\n  };\n\n  useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n    setCurURL(window.location.href);\n    setCurOrigin(window.location.origin);\n    setLangPath('/' + i18n.options.localeSubpaths[i18n.language]);\n  }, [open]);\n\n  const childMenu = (menu, item, anchor) => (\n    <Popper anchorEl={anchor[item.id] || null} open={menu[item.id] || false} placement=\"right-start\" transition disablePortal>\n      {({ TransitionProps, placement }) => (\n        <Grow\n          {...TransitionProps}\n          style={{ transformOrigin: placement === 'bottom' ? 'center bottom' : 'center top' }}\n        >\n          <Paper>\n            <MenuList id=\"menu-list-grow\">\n              {item.child.map((subitem, index) => {\n                if (subitem.child) {\n                  return (\n                    <MenuItem\n                      key={index.toString()}\n                      onClick={(e) => handleToggleChild(e, item, subitem.id)}\n                      className={classes.menuList}\n                    >\n                      <ListItemText primary={subitem.name} />\n                      { childMenu(menuChild, subitem, anchorChild) }\n                      <ChevronRightIcon fontSize=\"small\" />\n                    </MenuItem>\n                  );\n                }\n                return (\n                  <MenuItem\n                    key={index.toString()}\n                    disableGutters\n                    onClick={(e) => handleClose(e)}\n                    className={clsx(classes.menuList, curURL === curOrigin + langPath + subitem.link ? classes.current : '')}\n                  >\n                    <ListItem disableGutters disableRipple className={classes.link} button component=\"a\" href={subitem.link}>\n                      <ListItemText primary={subitem.name} />\n                    </ListItem>\n                  </MenuItem>\n                );\n              })}\n            </MenuList>\n          </Paper>\n        </Grow>\n      )}\n    </Popper>\n  );\n\n  return (\n    <ul className={classes.multiMenu}>\n      {dataMenu.map((item, index) => (\n        <Fragment key={index.toString()}>\n          {item.child ? (\n            // eslint-disable-next-line\n            <li\n              onClick={(e) => handleToggle(e, item.name)}\n              onKeyDown={(e) => handleToggle(e, item.name)}\n              ref={anchorRef}\n            >\n              <div>\n                <Button endIcon={<Icon>expand_more</Icon>}>{item.name}</Button>\n                <Popper\n                  open={menuName === item.name}\n                  anchorEl={anchorEl || null}\n                  className={classes.multiMenuRoot}\n                  placement=\"bottom-start\"\n                  role={undefined}\n                  transition\n                  disablePortal\n                >\n                  {({ TransitionProps, placement }) => (\n                    <Grow\n                      {...TransitionProps}\n                      style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n                    >\n                      <Paper>\n                        <ClickAwayListener onClickAway={handleClose}>\n                          <MenuList autoFocusItem={open} id=\"menu-list-grow\">\n                            {item.child.map((subitem, indexChild) => {\n                              if (subitem.child) {\n                                return (\n                                  <MenuItem\n                                    key={indexChild.toString()}\n                                    onClick={(e) => handleToggleChild(e, item, subitem.id)}\n                                    className={classes.menuList}\n                                  >\n                                    <ListItemText primary={subitem.name} />\n                                    {childMenu(menuChild, subitem, anchorChild)}\n                                    <ChevronRightIcon fontSize=\"small\" />\n                                  </MenuItem>\n                                );\n                              }\n                              return (\n                                <MenuItem\n                                  key={indexChild.toString()}\n                                  onClick={(e) => handleClose(e)}\n                                  className={clsx(classes.menuList, curURL === curOrigin + langPath + subitem.link ? classes.current : '')}\n                                >\n                                  <ListItem disableGutters disableRipple className={classes.link} button component=\"a\" href={subitem.link}>\n                                    <ListItemText primary={subitem.name} />\n                                  </ListItem>\n                                </MenuItem>\n                              );\n                            })}\n                          </MenuList>\n                        </ClickAwayListener>\n                      </Paper>\n                    </Grow>\n                  )}\n                </Popper>\n              </div>\n            </li>\n          ) : (\n            <li key={index.toString()}>\n              <div>\n                <Button href={item.link}>{item.name}</Button>\n              </div>\n            </li>\n          )}\n        </Fragment>\n      ))}\n    </ul>\n  );\n}\n\nMultiLevelHover.propTypes = {\n  dataMenu: PropTypes.array.isRequired\n};\n\nexport default MultiLevelHover;\n"]},"metadata":{},"sourceType":"module"}