{"ast":null,"code":"import _toConsumableArray from \"F:/PM/oiron_v101/oiron/packages/crypto-theme/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"F:\\\\PM\\\\oiron_v101\\\\oiron\\\\packages\\\\crypto-theme\\\\components\\\\Chat\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport Fab from '@material-ui/core/Fab';\nimport TextField from '@material-ui/core/TextField';\nimport visitorAvatar from \"../../public/images/avatars/pp_boy4.svg\";\nimport { useFlexBox } from \"../../theme/common\";\nimport useStyles from './chat-style';\n\nfunction Chat() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(false),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var _useState2 = useState(''),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var _useState3 = useState([{\n    text: 'Hola!, Maecenas',\n    visitor: false\n  }, {\n    text: 'Hola!, Maecenas nisl ',\n    visitor: true\n  }, {\n    text: 'Hola!, Maecenas',\n    visitor: false\n  }]),\n      conversation = _useState3[0],\n      setConversation = _useState3[1];\n\n  var handleChange = function handleChange(event) {\n    setMessage(event.target.value);\n  };\n\n  var handleSend = function handleSend() {\n    if (message !== '') {\n      setConversation(function (conv) {\n        return [].concat(_toConsumableArray(conv), [{\n          text: message,\n          visitor: true\n        }]);\n      });\n      setMessage(''); // scroll to bottom\n\n      var ctn = document.getElementById('chat-container');\n      setTimeout(function () {\n        ctn.scrollTo(0, ctn.scrollHeight);\n      }, 300);\n    }\n  };\n\n  var handleKeyPress = function handleKeyPress(event) {\n    if (event.key === 'Enter') {\n      handleSend();\n    }\n  };\n\n  var toggleChat = function toggleChat() {\n    setShow(!show);\n  };\n\n  var closeChat = function closeChat() {\n    setShow(false);\n  };\n\n  var classes = useStyles();\n  var flex = useFlexBox();\n  return __jsx(\"div\", {\n    className: classes.chat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: clsx(classes.panel, show ? classes.show : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, __jsx(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: clsx(classes.indicator, classes.online),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), \"Live Chat\"), __jsx(IconButton, {\n    onClick: function onClick() {\n      return closeChat();\n    },\n    className: classes.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"ion-android-close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: classes.chatRoom,\n    id: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, conversation.map(function (item, index) {\n    return __jsx(\"li\", {\n      key: index.toString(),\n      className: clsx(classes.item, item.visitor ? flex.justifyEnd : ''),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, !item.visitor && __jsx(Avatar, {\n      className: classes.avatar,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, __jsx(\"img\", {\n      src: visitorAvatar,\n      alt: \"visitor\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    })), __jsx(\"span\", {\n      className: clsx(classes.talk, !item.visitor ? classes.from : ''),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, item.text));\n  }))), __jsx(\"div\", {\n    className: classes.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, __jsx(TextField, {\n    onKeyPress: function onKeyPress(e) {\n      return handleKeyPress(e);\n    },\n    onChange: function onChange(e) {\n      return handleChange(e);\n    },\n    value: message,\n    variant: \"filled\",\n    color: \"secondary\",\n    label: \"Ask something\",\n    className: classes.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), __jsx(Fab, {\n    className: classes.send,\n    size: \"small\",\n    onClick: function onClick() {\n      return handleSend();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"ion-android-send\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  })))), __jsx(Fab, {\n    className: classes.chatButton,\n    onClick: function onClick() {\n      return toggleChat();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    className: clsx(classes.indicator, classes.online),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }), __jsx(\"i\", {\n    className: \"ion-chatbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(Chat, \"MlA1oEPn/vDj+Zixrl85U2iqGIo=\", false, function () {\n  return [useStyles, useFlexBox];\n});\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["F:/PM/oiron_v101/oiron/packages/crypto-theme/components/Chat/Chat.js"],"names":["React","useState","clsx","IconButton","Avatar","Fab","TextField","visitorAvatar","useFlexBox","useStyles","Chat","show","setShow","message","setMessage","text","visitor","conversation","setConversation","handleChange","event","target","value","handleSend","conv","ctn","document","getElementById","setTimeout","scrollTo","scrollHeight","handleKeyPress","key","toggleChat","closeChat","classes","flex","chat","panel","indicator","online","close","chatRoom","map","item","index","toString","justifyEnd","avatar","talk","from","form","e","input","send","chatButton"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport Fab from '@material-ui/core/Fab';\nimport TextField from '@material-ui/core/TextField';\nimport visitorAvatar from '~/public/images/avatars/pp_boy4.svg';\nimport { useFlexBox } from '~/theme/common';\nimport useStyles from './chat-style';\n\nfunction Chat() {\n  const [show, setShow] = useState(false);\n  const [message, setMessage] = useState('');\n  const [conversation, setConversation] = useState([\n    {\n      text: 'Hola!, Maecenas',\n      visitor: false\n    },\n    {\n      text: 'Hola!, Maecenas nisl ',\n      visitor: true\n    },\n    {\n      text: 'Hola!, Maecenas',\n      visitor: false\n    }\n  ]);\n\n  const handleChange = (event) => {\n    setMessage(event.target.value);\n  };\n\n  const handleSend = () => {\n    if (message !== '') {\n      setConversation(conv => [...conv, { text: message, visitor: true }]);\n      setMessage('');\n      // scroll to bottom\n      const ctn = document.getElementById('chat-container');\n      setTimeout(() => {\n        ctn.scrollTo(0, ctn.scrollHeight);\n      }, 300);\n    }\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      handleSend();\n    }\n  };\n\n  const toggleChat = () => {\n    setShow(!show);\n  };\n\n  const closeChat = () => {\n    setShow(false);\n  };\n\n  const classes = useStyles();\n  const flex = useFlexBox();\n\n  return (\n    <div className={classes.chat}>\n      <div className={clsx(classes.panel, show ? classes.show : '')}>\n        <header>\n          <h3>\n            <span className={clsx(classes.indicator, classes.online)} />\n            Live Chat\n          </h3>\n          <IconButton\n            onClick={() => closeChat()}\n            className={classes.close}\n          >\n            <i className=\"ion-android-close\" />\n          </IconButton>\n        </header>\n        <div className={classes.chatRoom} id=\"chat-container\">\n          <ul>\n            {conversation.map((item, index) => (\n              <li\n                key={index.toString()}\n                className={clsx(classes.item, item.visitor ? flex.justifyEnd : '')}\n              >\n                {!item.visitor && (\n                  <Avatar className={classes.avatar}>\n                    <img\n                      src={visitorAvatar}\n                      alt=\"visitor\"\n                    />\n                  </Avatar>\n                )}\n                <span className={clsx(classes.talk, !item.visitor ? classes.from : '')}>\n                  {item.text}\n                </span>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className={classes.form}>\n          <TextField\n            onKeyPress={(e) => handleKeyPress(e)}\n            onChange={(e) => handleChange(e)}\n            value={message}\n            variant=\"filled\"\n            color=\"secondary\"\n            label=\"Ask something\"\n            className={classes.input}\n          />\n          <Fab\n            className={classes.send}\n            size=\"small\"\n            onClick={() => handleSend()}\n          >\n            <i className=\"ion-android-send\" />\n          </Fab>\n        </div>\n      </div>\n      <Fab\n        className={classes.chatButton}\n        onClick={() => toggleChat()}\n      >\n        <span className={clsx(classes.indicator, classes.online)} />\n        <i className=\"ion-chatbox\" />\n      </Fab>\n    </div>\n  );\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}