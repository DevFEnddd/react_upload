{"ast":null,"code":"import _defineProperty from \"F:/PM/oiron_v101/oiron/packages/crypto-theme/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"F:/PM/oiron_v101/oiron/packages/crypto-theme/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"F:\\\\PM\\\\oiron_v101\\\\oiron\\\\packages\\\\crypto-theme\\\\components\\\\Header\\\\TopNav\\\\MultiLevelClick.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useRef, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { i18n } from \"../../../i18n\";\nimport Button from '@material-ui/core/Button';\nimport AnchorLink from 'react-anchor-link-smooth-scroll';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Icon from '@material-ui/core/Icon';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport useStyles from '../header-style';\nvar LinkBtn = /*#__PURE__*/React.forwardRef(_c = function LinkBtn(props, ref) {\n  // eslint-disable-line\n  return __jsx(AnchorLink, _extends({\n    to: props.to\n  }, props, {\n    innerRef: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 10\n    }\n  })); // eslint-disable-line\n});\n_c2 = LinkBtn;\n\nfunction MultiLevelHover(props) {\n  _s();\n\n  var _this = this;\n\n  var classes = useStyles();\n  var dataMenu = props.dataMenu;\n\n  var _useState = useState(''),\n      curURL = _useState[0],\n      setCurURL = _useState[1];\n\n  var _useState2 = useState(''),\n      curOrigin = _useState2[0],\n      setCurOrigin = _useState2[1];\n\n  var _useState3 = useState(''),\n      langPath = _useState3[0],\n      setLangPath = _useState3[1]; // Parent state\n\n\n  var _useState4 = useState(false),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  var _useState5 = useState(''),\n      menuName = _useState5[0],\n      setName = _useState5[1];\n\n  var _useState6 = useState(null),\n      anchorEl = _useState6[0],\n      setAnchorEl = _useState6[1];\n\n  var anchorRef = useRef(null);\n  var prevOpen = useRef(open); // Child state\n\n  var _useState7 = useState({}),\n      menuChild = _useState7[0],\n      setMenuChild = _useState7[1];\n\n  var _useState8 = useState({}),\n      anchorChild = _useState8[0],\n      setAnchorChild = _useState8[1]; // Parent function\n\n\n  var handleToggle = function handleToggle(event, name) {\n    setOpen(function (newOpen) {\n      return !newOpen;\n    });\n    setName(name);\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleClose = function handleClose(e) {\n    e.stopPropagation();\n    setName('');\n    setOpen(false);\n    setMenuChild({});\n    setAnchorChild({});\n  }; // Child function\n\n\n  var handleToggleChild = function handleToggleChild(event, parent, id) {\n    event.stopPropagation();\n    var menuClose = {};\n    var anchorClose = {};\n\n    for (var i = 0; i < parent.child.length; i += 1) {\n      if (parent.child[i].id !== id) {\n        menuClose = _objectSpread(_objectSpread({}, menuClose), {}, _defineProperty({}, parent.child[i].id, false));\n        anchorClose = _objectSpread(_objectSpread({}, anchorClose), {}, _defineProperty({}, parent.child[i].id, null));\n      }\n    }\n\n    setMenuChild(_objectSpread(_objectSpread(_objectSpread({}, menuChild), menuClose), {}, _defineProperty({}, id, true)));\n    setAnchorChild(_objectSpread(_objectSpread(_objectSpread({}, anchorChild), anchorClose), {}, _defineProperty({}, id, event.currentTarget)));\n  };\n\n  useEffect(function () {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n    setCurURL(window.location.href);\n    setCurOrigin(window.location.origin);\n    setLangPath('/' + i18n.options.localeSubpaths[i18n.language]);\n  }, [open]);\n\n  var childMenu = function childMenu(menu, item, anchor) {\n    return __jsx(Popper, {\n      anchorEl: anchor[item.id] || null,\n      open: menu[item.id] || false,\n      placement: \"right-start\",\n      transition: true,\n      disablePortal: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }, function (_ref) {\n      var TransitionProps = _ref.TransitionProps,\n          placement = _ref.placement;\n      return __jsx(Grow, _extends({}, TransitionProps, {\n        style: {\n          transformOrigin: placement === 'bottom' ? 'center bottom' : 'center top'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }\n      }), __jsx(Paper, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      }, __jsx(MenuList, {\n        id: \"menu-list-grow\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }, item.child.map(function (subitem, index) {\n        if (subitem.child) {\n          return __jsx(MenuItem, {\n            key: index.toString(),\n            onClick: function onClick(e) {\n              return handleToggleChild(e, item, subitem.id);\n            },\n            className: classes.menuList,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }\n          }, __jsx(ListItemText, {\n            primary: subitem.name,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 23\n            }\n          }), childMenu(menuChild, subitem, anchorChild), __jsx(ChevronRightIcon, {\n            fontSize: \"small\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 23\n            }\n          }));\n        }\n\n        return __jsx(MenuItem, {\n          key: index.toString(),\n          disableGutters: true,\n          onClick: function onClick(e) {\n            return handleClose(e);\n          },\n          className: clsx(classes.menuList, curURL === curOrigin + langPath + subitem.link ? classes.current : ''),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 19\n          }\n        }, __jsx(ListItem, {\n          disableGutters: true,\n          disableRipple: true,\n          className: classes.link,\n          button: true,\n          component: \"a\",\n          href: subitem.link,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }\n        }, __jsx(ListItemText, {\n          primary: subitem.name,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 23\n          }\n        })));\n      }))));\n    });\n  };\n\n  return __jsx(\"ul\", {\n    className: classes.multiMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }, dataMenu.map(function (item, index) {\n    return __jsx(Fragment, {\n      key: index.toString(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }\n    }, item.child ? // eslint-disable-next-line\n    __jsx(\"li\", {\n      onClick: function onClick(e) {\n        return handleToggle(e, item.name);\n      },\n      onKeyDown: function onKeyDown(e) {\n        return handleToggle(e, item.name);\n      },\n      ref: anchorRef,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, __jsx(Button, {\n      endIcon: __jsx(Icon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 34\n        }\n      }, \"expand_more\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, item.name), __jsx(Popper, {\n      open: menuName === item.name,\n      anchorEl: anchorEl || null,\n      className: classes.multiMenuRoot,\n      placement: \"bottom-start\",\n      role: undefined,\n      transition: true,\n      disablePortal: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, function (_ref2) {\n      var TransitionProps = _ref2.TransitionProps,\n          placement = _ref2.placement;\n      return __jsx(Grow, _extends({}, TransitionProps, {\n        style: {\n          transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }\n      }), __jsx(Paper, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 23\n        }\n      }, __jsx(ClickAwayListener, {\n        onClickAway: handleClose,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }\n      }, __jsx(MenuList, {\n        autoFocusItem: open,\n        id: \"menu-list-grow\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 27\n        }\n      }, item.child.map(function (subitem, indexChild) {\n        if (subitem.child) {\n          return __jsx(MenuItem, {\n            key: indexChild.toString(),\n            onClick: function onClick(e) {\n              return handleToggleChild(e, item, subitem.id);\n            },\n            className: classes.menuList,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 35\n            }\n          }, __jsx(ListItemText, {\n            primary: subitem.name,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 37\n            }\n          }), childMenu(menuChild, subitem, anchorChild), __jsx(ChevronRightIcon, {\n            fontSize: \"small\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 37\n            }\n          }));\n        }\n\n        return __jsx(MenuItem, {\n          key: indexChild.toString(),\n          onClick: function onClick(e) {\n            return handleClose(e);\n          },\n          className: clsx(classes.menuList, curURL === curOrigin + langPath + subitem.link ? classes.current : ''),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 33\n          }\n        }, __jsx(ListItem, {\n          disableGutters: true,\n          disableRipple: true,\n          className: classes.link,\n          button: true,\n          component: \"a\",\n          href: subitem.link,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 35\n          }\n        }, __jsx(ListItemText, {\n          primary: subitem.name,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 37\n          }\n        })));\n      })))));\n    }))) : __jsx(\"li\", {\n      key: index.toString(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, __jsx(Button, {\n      href: item.link,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, item.name))));\n  }));\n}\n\n_s(MultiLevelHover, \"ogJkgQL2F1MBUlmMJnHFrg0iqHw=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = MultiLevelHover;\nMultiLevelHover.propTypes = {\n  dataMenu: PropTypes.array.isRequired\n};\nexport default MultiLevelHover;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"LinkBtn$React.forwardRef\");\n$RefreshReg$(_c2, \"LinkBtn\");\n$RefreshReg$(_c3, \"MultiLevelHover\");","map":{"version":3,"sources":["F:/PM/oiron_v101/oiron/packages/crypto-theme/components/Header/TopNav/MultiLevelClick.js"],"names":["React","useState","useEffect","useRef","Fragment","PropTypes","clsx","i18n","Button","AnchorLink","ClickAwayListener","Grow","Icon","Paper","Popper","MenuItem","MenuList","ListItem","ListItemText","ChevronRightIcon","useStyles","LinkBtn","forwardRef","props","ref","to","MultiLevelHover","classes","dataMenu","curURL","setCurURL","curOrigin","setCurOrigin","langPath","setLangPath","open","setOpen","menuName","setName","anchorEl","setAnchorEl","anchorRef","prevOpen","menuChild","setMenuChild","anchorChild","setAnchorChild","handleToggle","event","name","newOpen","currentTarget","handleClose","e","stopPropagation","handleToggleChild","parent","id","menuClose","anchorClose","i","child","length","current","focus","window","location","href","origin","options","localeSubpaths","language","childMenu","menu","item","anchor","TransitionProps","placement","transformOrigin","map","subitem","index","toString","menuList","link","multiMenu","multiMenuRoot","undefined","indexChild","propTypes","array","isRequired"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  useEffect,\n  useRef,\n  Fragment\n} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { i18n } from '~/i18n';\nimport Button from '@material-ui/core/Button';\nimport AnchorLink from 'react-anchor-link-smooth-scroll';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Icon from '@material-ui/core/Icon';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport useStyles from '../header-style';\n\nconst LinkBtn = React.forwardRef(function LinkBtn(props, ref) { // eslint-disable-line\n  return <AnchorLink to={props.to} {...props} innerRef={ref} />; // eslint-disable-line\n});\n\nfunction MultiLevelHover(props) {\n  const classes = useStyles();\n  const { dataMenu } = props;\n\n  const [curURL, setCurURL] = useState('');\n  const [curOrigin, setCurOrigin] = useState('');\n  const [langPath, setLangPath] = useState('');\n\n  // Parent state\n  const [open, setOpen] = useState(false);\n  const [menuName, setName] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const anchorRef = useRef(null);\n  const prevOpen = useRef(open);\n\n  // Child state\n  const [menuChild, setMenuChild] = useState({});\n  const [anchorChild, setAnchorChild] = useState({});\n\n  // Parent function\n  const handleToggle = (event, name) => {\n    setOpen((newOpen) => !newOpen);\n    setName(name);\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (e) => {\n    e.stopPropagation();\n    setName('');\n    setOpen(false);\n    setMenuChild({});\n    setAnchorChild({});\n  };\n\n  // Child function\n  const handleToggleChild = (event, parent, id) => {\n    event.stopPropagation();\n    let menuClose = {};\n    let anchorClose = {};\n    for (let i = 0; i < parent.child.length; i += 1) {\n      if (parent.child[i].id !== id) {\n        menuClose = {\n          ...menuClose,\n          [parent.child[i].id]: false\n        };\n        anchorClose = {\n          ...anchorClose,\n          [parent.child[i].id]: null\n        };\n      }\n    }\n    setMenuChild({\n      ...menuChild,\n      ...menuClose,\n      [id]: true\n    });\n    setAnchorChild({\n      ...anchorChild,\n      ...anchorClose,\n      [id]: event.currentTarget\n    });\n  };\n\n  useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n    setCurURL(window.location.href);\n    setCurOrigin(window.location.origin);\n    setLangPath('/' + i18n.options.localeSubpaths[i18n.language]);\n  }, [open]);\n\n  const childMenu = (menu, item, anchor) => (\n    <Popper anchorEl={anchor[item.id] || null} open={menu[item.id] || false} placement=\"right-start\" transition disablePortal>\n      {({ TransitionProps, placement }) => (\n        <Grow\n          {...TransitionProps}\n          style={{ transformOrigin: placement === 'bottom' ? 'center bottom' : 'center top' }}\n        >\n          <Paper>\n            <MenuList id=\"menu-list-grow\">\n              {item.child.map((subitem, index) => {\n                if (subitem.child) {\n                  return (\n                    <MenuItem\n                      key={index.toString()}\n                      onClick={(e) => handleToggleChild(e, item, subitem.id)}\n                      className={classes.menuList}\n                    >\n                      <ListItemText primary={subitem.name} />\n                      { childMenu(menuChild, subitem, anchorChild) }\n                      <ChevronRightIcon fontSize=\"small\" />\n                    </MenuItem>\n                  );\n                }\n                return (\n                  <MenuItem\n                    key={index.toString()}\n                    disableGutters\n                    onClick={(e) => handleClose(e)}\n                    className={clsx(classes.menuList, curURL === curOrigin + langPath + subitem.link ? classes.current : '')}\n                  >\n                    <ListItem disableGutters disableRipple className={classes.link} button component=\"a\" href={subitem.link}>\n                      <ListItemText primary={subitem.name} />\n                    </ListItem>\n                  </MenuItem>\n                );\n              })}\n            </MenuList>\n          </Paper>\n        </Grow>\n      )}\n    </Popper>\n  );\n\n  return (\n    <ul className={classes.multiMenu}>\n      {dataMenu.map((item, index) => (\n        <Fragment key={index.toString()}>\n          {item.child ? (\n            // eslint-disable-next-line\n            <li\n              onClick={(e) => handleToggle(e, item.name)}\n              onKeyDown={(e) => handleToggle(e, item.name)}\n              ref={anchorRef}\n            >\n              <div>\n                <Button endIcon={<Icon>expand_more</Icon>}>{item.name}</Button>\n                <Popper\n                  open={menuName === item.name}\n                  anchorEl={anchorEl || null}\n                  className={classes.multiMenuRoot}\n                  placement=\"bottom-start\"\n                  role={undefined}\n                  transition\n                  disablePortal\n                >\n                  {({ TransitionProps, placement }) => (\n                    <Grow\n                      {...TransitionProps}\n                      style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n                    >\n                      <Paper>\n                        <ClickAwayListener onClickAway={handleClose}>\n                          <MenuList autoFocusItem={open} id=\"menu-list-grow\">\n                            {item.child.map((subitem, indexChild) => {\n                              if (subitem.child) {\n                                return (\n                                  <MenuItem\n                                    key={indexChild.toString()}\n                                    onClick={(e) => handleToggleChild(e, item, subitem.id)}\n                                    className={classes.menuList}\n                                  >\n                                    <ListItemText primary={subitem.name} />\n                                    {childMenu(menuChild, subitem, anchorChild)}\n                                    <ChevronRightIcon fontSize=\"small\" />\n                                  </MenuItem>\n                                );\n                              }\n                              return (\n                                <MenuItem\n                                  key={indexChild.toString()}\n                                  onClick={(e) => handleClose(e)}\n                                  className={clsx(classes.menuList, curURL === curOrigin + langPath + subitem.link ? classes.current : '')}\n                                >\n                                  <ListItem disableGutters disableRipple className={classes.link} button component=\"a\" href={subitem.link}>\n                                    <ListItemText primary={subitem.name} />\n                                  </ListItem>\n                                </MenuItem>\n                              );\n                            })}\n                          </MenuList>\n                        </ClickAwayListener>\n                      </Paper>\n                    </Grow>\n                  )}\n                </Popper>\n              </div>\n            </li>\n          ) : (\n            <li key={index.toString()}>\n              <div>\n                <Button href={item.link}>{item.name}</Button>\n              </div>\n            </li>\n          )}\n        </Fragment>\n      ))}\n    </ul>\n  );\n}\n\nMultiLevelHover.propTypes = {\n  dataMenu: PropTypes.array.isRequired\n};\n\nexport default MultiLevelHover;\n"]},"metadata":{},"sourceType":"module"}